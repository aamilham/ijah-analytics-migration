<div class="container mt-5">
  <h1 class="text-center mb-4">Contact Us</h1>

  <!-- Form Contact menggunakan Reactive Forms -->
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Subject Options -->
    <div class="form-group row mb-3">
      <label class="col-sm-2 col-form-label">Subject:</label>
      <div class="col-sm-10">
        <div
          class="form-check form-check-inline"
          *ngFor="let subject of subjects"
        >
          <input
            class="form-check-input"
            type="radio"
            formControlName="subject"
            [value]="subject"
            required
          />
          <label class="form-check-label">{{ subject }}</label>
        </div>
        <div
          *ngIf="
            contactForm.get('subject').invalid &&
            contactForm.get('subject').touched
          "
          class="invalid-feedback"
        >
          Please select a subject.
        </div>
      </div>
    </div>

    <!-- Message -->
    <div class="form-group row mb-3">
      <label for="message" class="col-sm-2 col-form-label">Message:</label>
      <div class="col-sm-10">
        <textarea
          class="form-control"
          formControlName="message"
          rows="4"
          maxlength="500"
          placeholder="Your message"
          [ngClass]="{
            'is-invalid':
              contactForm.get('message').invalid &&
              contactForm.get('message').touched
          }"
          required
        ></textarea>
        <div
          *ngIf="
            contactForm.get('message').invalid &&
            contactForm.get('message').touched
          "
          class="invalid-feedback"
        >
          Please enter a message (max 500 characters).
        </div>
      </div>
    </div>

    <!-- Name -->
    <div class="form-group row mb-3">
      <label for="name" class="col-sm-2 col-form-label">Name:</label>
      <div class="col-sm-10">
        <input
          type="text"
          class="form-control"
          formControlName="name"
          placeholder="YourFirstName YourLastName"
          [ngClass]="{
            'is-invalid':
              contactForm.get('name').invalid && contactForm.get('name').touched
          }"
          required
        />
        <div
          *ngIf="
            contactForm.get('name').invalid && contactForm.get('name').touched
          "
          class="invalid-feedback"
        >
          Please enter your name.
        </div>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group row mb-3">
      <label for="email" class="col-sm-2 col-form-label">Email:</label>
      <div class="col-sm-10">
        <input
          type="email"
          class="form-control"
          formControlName="email"
          placeholder="you@yourEmail.com"
          [ngClass]="{
            'is-invalid':
              contactForm.get('email').invalid &&
              contactForm.get('email').touched
          }"
          required
        />
        <div
          *ngIf="
            contactForm.get('email').invalid && contactForm.get('email').touched
          "
          class="invalid-feedback"
        >
          Please enter a valid email address.
        </div>
      </div>
    </div>

    <!-- Affiliation -->
    <div class="form-group row mb-3">
      <label for="affiliation" class="col-sm-2 col-form-label"
        >Affiliation:</label
      >
      <div class="col-sm-10">
        <input
          type="text"
          class="form-control"
          formControlName="affiliation"
          placeholder="Your university, organization, company, etc"
        />
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-group row">
      <div class="col-sm-10 offset-sm-2">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="contactForm.invalid"
        >
          Submit
        </button>
      </div>
    </div>
  </form>

  <!-- Pesan Berhasil -->
  <div class="alert alert-success mt-3 d-none" id="successMessage">
    Your message has been sent successfully!
  </div>

  <!-- Modal Konfirmasi -->
  <div
    class="modal fade"
    id="confirmationModal"
    tabindex="-1"
    aria-labelledby="confirmationModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmationModalLabel">Confirmation</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">Are you sure you want to submit this form?</div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-primary"
            (click)="confirmSubmit()"
          >
            Yes, Submit
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
