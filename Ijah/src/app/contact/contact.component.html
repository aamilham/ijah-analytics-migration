<div class="contact-container">
  <h2 class="contact-title">Contact Us</h2>

  <!-- Pesan Sukses -->
  <div class="success-message" *ngIf="submissionSuccess">
    Thank you! Your message has been sent successfully.
  </div>

  <!-- Pesan Error -->
  <div class="error-message" *ngIf="submissionError">
    Oops! There was an error sending your message. Please try again later.
  </div>

  <form
    [formGroup]="contactForm"
    (ngSubmit)="onSubmit()"
    class="contact-form"
    novalidate
  >
    <!-- Kolom Kiri -->
    <div class="form-left">
      <fieldset class="subject-group">
        <legend>Subject</legend>
        <div class="radio-group">
          <label>
            <input type="radio" formControlName="subject" value="Question" />
            Question
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Error/Bugs" />
            Error/Bugs
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Wishlist" />
            Wishlist
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Complaint" />
            Complaint
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Suggestion" />
            Suggestion
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Testimony" />
            Testimony
          </label>
          <label>
            <input type="radio" formControlName="subject" value="Other" />
            Other
          </label>
        </div>
        <!-- Pesan Error untuk Subject -->
        <div
          class="error-message"
          *ngIf="
            contactForm.get('subject')?.touched &&
            contactForm.get('subject')?.invalid
          "
        >
          Please select a subject.
        </div>
      </fieldset>
      <button type="submit" class="submit-button">Submit</button>
    </div>

    <!-- Kolom Kanan -->
    <div class="form-right">
      <div class="input-group-inline">
        <div class="input-group">
          <label for="name">Name</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            placeholder="Name"
            [ngClass]="{
              invalid:
                contactForm.get('name')?.invalid &&
                contactForm.get('name')?.touched
            }"
          />
          <div
            class="error-message"
            *ngIf="
              contactForm.get('name')?.touched &&
              contactForm.get('name')?.invalid
            "
          >
            Please enter your name.
          </div>
        </div>
        <div class="input-group">
          <label for="affiliation">Affiliation</label>
          <input
            type="text"
            id="affiliation"
            formControlName="affiliation"
            placeholder="University, organization, company, or etc"
          />
          <!-- Tidak ada validasi untuk Affiliation karena tidak wajib -->
        </div>
      </div>
      <div class="input-group">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="name@email.com"
          [ngClass]="{
            invalid:
              contactForm.get('email')?.invalid &&
              contactForm.get('email')?.touched
          }"
        />
        <div
          class="error-message"
          *ngIf="
            contactForm.get('email')?.touched &&
            contactForm.get('email')?.invalid
          "
        >
          Please enter a valid email address.
        </div>
      </div>
      <div class="input-group">
        <label for="message">Message</label>
        <textarea
          id="message"
          formControlName="message"
          rows="6"
          placeholder="Your message"
          [ngClass]="{
            invalid:
              contactForm.get('message')?.invalid &&
              contactForm.get('message')?.touched
          }"
        ></textarea>
        <div
          class="error-message"
          *ngIf="
            contactForm.get('message')?.touched &&
            contactForm.get('message')?.invalid
          "
        >
          Please enter your message (max 500 characters).
        </div>
      </div>
    </div>
  </form>

  <section class="full-width-map">
    <div class="map-container">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1dXXXXXXXXXX!2d106.79170529690614!3d-6.58788533132443!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f17.1!3m3!1m2!1s0x2e69c5ccb84430c3%3A0x4b47ca3cd9f4813f!2sJl.%20Taman%20Kencana%20No.3%2C%20RT.03%2FRW.03%2C%20Babakan%2C%20Kecamatan%20Bogor%20Tengah%2C%20Kota%20Bogor%2C%20Jawa%20Barat%2016128!5e0!3m2!1sen!2sid!4v1731984676178!5m2!1sen!2sid"
        style="border: 0"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
    </div>
  </section>
</div>
